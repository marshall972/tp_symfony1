{% extends 'base.html.twig' %}

{% block title %}Article index
{% endblock %}

{% block body %}
	<h1>Article index</h1>
	<a class="btn btn-primary mb-4" href="{{ path('article_new') }}">Create new</a>


	{% for article in articles %}

		<div class="card mb-2 card-article">

			<div class="card-body">
				<h5 class="card-title">{{ article.titre }}</h5>

				<p class="card-text">{{ article.contenu }}</p>
				<small class="text-muted">{{ article.auteur }}</small>

				<div class="mt-2">
					<h6 class="card-title">Commentaires :</h6>

					{% for commentaire in article.commentaires %}
						<p>{{ commentaire }}</p>
						<small>{{ commentaire.auteur}}</small>
					{% endfor %}
				</div>
			</div>

			<div class="card-footer">
				<a class="btn btn-primary" href="{{ path('article_show', {'id': article.id}) }}">show</a>
				<a class="btn btn-outline-primary" href="{{ path('article_edit', {'id': article.id}) }}">edit</a>
			</div>
		</div>


	{% else %}
		<p>no records found</p>

	{% endfor %}


{% endblock %}
